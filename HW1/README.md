 # **Homework 1: Stock Price Prediction and Autotrade policy**
 ## **執行程式： trader.py (作業要求)**
<br />

 ## 1. 取樣Concept/執行內容:訓練

>因股價trainset, testset有連續性。先將兩個檔案合併做處理，最後處理完之後再分割開來

    
  其實網路上同樣題目的討論很多，通常都直接用開盤、收盤、最高、最低股價跑LSTM。為了不想一樣，則改用 
  * 最高價:因最初版本跑DecisionTree feature importance，發現最高價比其他三個價位更容易影響股價
  * K值:不用一般的K9，而用K5是純粹好玩
  * 類似K棒的本體所佔K棒的比例: 想反映當日波動程度)

  這三個參數一起運用LSTM訓練出明日的收盤股價，另外兩個參數是參考用的
  
  然而股價無論怎麼train，可能因為股價波動前面太過平緩，後面太過激烈，accuracy永遠都無法達到 ***(給的trainset後面會偏低)***。但是股價走勢極為像似，故採取其他做法。 

<br />

 
 ## 2. 執行內容:策略
>從獲得收盤價之後開始處裡

由於發現走勢圖波型相近，考慮從這點切入，預測漲跌即可(無幅度，只計入漲跌或者是平盤)
所以將 **今日收盤價 - 昨日收盤價** 來計算漲跌(含預測值和實際值)
轉換成list後，作為後續autotrade的依據。

>雖然action是看開盤價，但開盤價跟前一日的收盤價往往都不會差太多，所以用收盤價相減預測漲跌，還可以額外考慮最後一天收盤時強制賣出(或補入)的參考。

為了避免有可能從頭到尾都沒買賣，Autotrade第一天強制買入或者是作空。之後幾天，看當日實際漲跌、手頭是否持有股票或做空、以及明日預測值，來決定隔日是要保留股票，或者是賣出或回補做空的股票。


 ## 3. 輸出
將Action list分筆分行輸出到output.csv
用修改過的NCKU calculator(把args直接拿掉改成檔名)確認是否有無bug